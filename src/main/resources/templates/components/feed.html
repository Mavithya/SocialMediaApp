<div th:fragment="feed" class="flex-1" xmlns:sec="http://www.w3.org/1999/xhtml">
    <!-- Create Post Form -->
    <form th:action="@{/posts}" method="post" enctype="multipart/form-data" class="mb-6 bg-gray-800 shadow-xl card ">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <div class="flex gap-4 bg-white card-body rounded-xl">
            <!-- Current user avatar -->
            <div class="avatar">
                <div class="flex items-center justify-center w-12 h-12 rounded-full bg-brand-500">
                    <img th:if="${#authentication.principal.profilePicture != null and #authentication.principal.profilePicture != ''}" 
                         th:src="${#authentication.principal.profilePicture}" 
                         alt="Profile" 
                         class="object-cover w-full h-full rounded-full"/>
                    <svg th:unless="${#authentication.principal.profilePicture != null and #authentication.principal.profilePicture != ''}" 
                         class="mt-[10px] ml-[12px] w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                              d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                              clip-rule="evenodd"/>
                    </svg>
                </div>
            </div>

            <div class="flex-1">
                <textarea name="content"
                          class="w-full text-black placeholder-gray-400 border-gray-300 resize-none bg-gray-50 border-1 textarea textarea-bordered"
                          placeholder="What's on your mind?"
                          rows="3"></textarea>

                <!-- Media Upload Section -->
                <div id="mediaPreview" class="hidden mt-3 p-3 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-sm font-medium text-gray-700">Media Attachments</h4>
                        <button type="button" id="clearMedia" class="text-red-500 hover:text-red-700 text-xs">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                            Clear All
                        </button>
                    </div>
                    <div id="mediaGrid" class="grid grid-cols-2 md:grid-cols-3 gap-2"></div>
                </div>

                <div class="flex flex-col">
                    <!-- Action buttons -->
                    <div class="flex items-center justify-between w-full mt-4 mb-4">
                        <div class="flex items-center gap-2">
                            <div class="relative">
                                <button type="button" id="emojiButton" class="text-gray-700 btn btn-ghost btn-sm" onclick="toggleEmojiPicker()">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"/>
                                    </svg>
                                    Emoji
                                </button>
                                
                                <!-- Emoji Picker Popup -->
                                <div id="emojiPicker" class="absolute left-0 z-50 hidden mb-2 top-10 bottom-full emoji-picker">
                                    <div class="p-5 overflow-y-auto bg-white border border-gray-200 shadow-xl rounded-2xl w-80 max-h-72">
                                        <div class="mb-3">
                                            <h3 class="mb-2 text-sm font-semibold text-gray-700">Choose an emoji</h3>

                                            <!-- Emoji Grid -->
                                            <div class="grid grid-cols-8 gap-1 emoji-category" data-category="smileys">
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÄ')">üòÄ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÉ')">üòÉ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÑ')">üòÑ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÅ')">üòÅ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÜ')">üòÜ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÖ')">üòÖ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòÇ')">üòÇ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('ü§£')">ü§£</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòä')">üòä</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòá')">üòá</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üôÇ')">üôÇ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üôÉ')">üôÉ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòâ')">üòâ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòå')">üòå</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòç')">üòç</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('ü•∞')">ü•∞</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòò')">üòò</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòó')">üòó</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòô')">üòô</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòö')">üòö</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòã')">üòã</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòõ')">üòõ</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('üòú')">üòú</button>
                                                <button type="button" class="p-1 text-lg transition-colors rounded emoji-btn hover:bg-gray-100" onclick="insertEmoji('ü§™')">ü§™</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Photo/Video Upload Button -->
                            <div class="relative">
                                <input type="file" id="mediaUpload" name="mediaFiles" multiple accept="image/*,video/*" class="hidden" onchange="handleMediaUpload(this)">
                                <button type="button" class="text-gray-700 btn btn-ghost btn-sm" onclick="document.getElementById('mediaUpload').click()">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                                    </svg>
                                    Photo/Video
                                </button>
                            </div>

                            <button type="button" class="text-gray-700 btn btn-ghost btn-sm">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                          clip-rule="evenodd"/>
                                </svg>
                                Location
                            </button>
                            <button type="button" class="text-gray-700 btn btn-ghost btn-sm">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                          clip-rule="evenodd"/>
                                </svg>
                                Event
                            </button>
                        </div>
                    </div>

                    <!-- Submit Section -->
                    <div class="flex items-center justify-end">
                        <div class="flex gap-3">
                            <button type="reset" class="text-gray-700 btn btn-ghost btn-sm hover:bg-gray-200 hover:shadow-sm  hover:!shadow-gray-300 transition-transform hover:scale-105" onclick="clearMediaAttachments()">Cancel</button>
                            <button type="submit" class="btn btn-primary btn-sm !bg-brand-500 !border-brand-500 shadow-md shadow-brand-500 transition-transform hover:scale-105">Post</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- Posts Feed -->
    <div class="space-y-6">
        <div th:each="post : ${posts}" class="bg-white shadow-xl card post-card" th:data-post-id="${post.id}">
            <div class="card-body">
                <!-- Header with avatar, name, time, and delete button -->
                <div class="flex items-center gap-3 mb-4">
                    <!-- Author avatar -->
                    <div class="avatar flex-shrink-0">
                        <div class="flex items-center justify-center w-12 h-12 rounded-full bg-brand-500">
                            <img th:if="${post.user.profilePicture != null and post.user.profilePicture != ''}" 
                                 th:src="${post.user.profilePicture}" 
                                 alt="Profile" 
                                 class="object-cover w-full h-full rounded-full"/>
                            <svg th:unless="${post.user.profilePicture != null and post.user.profilePicture != ''}" 
                                 class="mt-[10px] ml-[12px] w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                      d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                      clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Name and time stacked vertically, horizontally next to avatar -->
                    <div class="flex flex-col flex-1">
                        <h3 class="font-semibold text-black leading-tight"
                            th:text="${post.user.firstName} + ' ' + ${post.user.lastName}">Author Name</h3>
                        <span class="text-sm text-gray-500 mt-0.5" th:text="${post.timeAgo}">timestamp</span>
                    </div>

                    <!-- Delete button for post owner -->
                    <div sec:authorize="isAuthenticated()">
                        <button th:if="${#authentication.name == post.user.email}"
                                class="text-gray-700 hover:text-red-400 btn btn-ghost btn-xs delete-post-button"
                                th:data-post-id="${post.id}"
                                title="Delete post">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Post content -->
                <div class="mb-4 post-content-scroll">
                    <p class="text-gray-700 break-words whitespace-pre-wrap" th:text="${post.content}" 
                       th:if="${!#strings.isEmpty(post.content)}">Post content‚Ä¶</p>
                </div>

                <!-- Media attachments -->
                <div th:if="${post.mediaFiles != null and !post.mediaFiles.isEmpty()}" class="mb-4">
                    <div th:switch="${#lists.size(post.mediaFiles)}">
                        <!-- Single media item -->
                        <div th:case="1" class="relative">
                            <div th:each="media : ${post.mediaFiles}">
                                <div th:if="${media.fileType == 'image'}" class="relative">
                                    <img th:src="${media.filePath}" 
                                         th:alt="${media.fileName}" 
                                         class="w-full max-h-96 object-cover rounded-lg border border-gray-200 cursor-pointer"
                                         onclick="openImageModal(this.src)"/>
                                </div>
                                <div th:if="${media.fileType == 'video'}" class="relative">
                                    <video controls class="w-full max-h-96 rounded-lg border border-gray-200">
                                        <source th:src="${media.filePath}" th:type="${media.mimeType}"/>
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                        </div>

                        <!-- Two media items -->
                        <div th:case="2" class="grid grid-cols-2 gap-2">
                            <div th:each="media : ${post.mediaFiles}" class="relative">
                                <div th:if="${media.fileType == 'image'}" class="relative">
                                    <img th:src="${media.filePath}" 
                                         th:alt="${media.fileName}" 
                                         class="w-full h-48 object-cover rounded-lg border border-gray-200 cursor-pointer"
                                         onclick="openImageModal(this.src)"/>
                                </div>
                                <div th:if="${media.fileType == 'video'}" class="relative">
                                    <video controls class="w-full h-48 rounded-lg border border-gray-200">
                                        <source th:src="${media.filePath}" th:type="${media.mimeType}"/>
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                        </div>

                        <!-- Three or more media items -->
                        <div th:case="*" class="grid grid-cols-2 gap-2">
                            <!-- First two media items -->
                            <div th:each="media, iterStat : ${post.mediaFiles}" 
                                 th:if="${iterStat.index < 2}" class="relative">
                                <div th:if="${media.fileType == 'image'}" class="relative">
                                    <img th:src="${media.filePath}" 
                                         th:alt="${media.fileName}" 
                                         class="w-full h-48 object-cover rounded-lg border border-gray-200 cursor-pointer"
                                         onclick="openImageModal(this.src)"/>
                                </div>
                                <div th:if="${media.fileType == 'video'}" class="relative">
                                    <video controls class="w-full h-48 rounded-lg border border-gray-200">
                                        <source th:src="${media.filePath}" th:type="${media.mimeType}"/>
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                            
                            <!-- Show "+X more" overlay on the second item if there are more than 2 items -->
                            <div th:if="${#lists.size(post.mediaFiles) > 2}" 
                                 class="relative col-start-2 row-start-1">
                                <div th:with="secondMedia=${post.mediaFiles[1]}">
                                    <div th:if="${secondMedia.fileType == 'image'}" class="relative">
                                        <img th:src="${secondMedia.filePath}" 
                                             th:alt="${secondMedia.fileName}" 
                                             class="w-full h-48 object-cover rounded-lg border border-gray-200"/>
                                        <div class="absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center">
                                            <span class="text-white text-xl font-bold" 
                                                  th:text="'+' + ${#lists.size(post.mediaFiles) - 2} + ' more'">+X more</span>
                                        </div>
                                    </div>
                                    <div th:if="${secondMedia.fileType == 'video'}" class="relative">
                                        <video class="w-full h-48 rounded-lg border border-gray-200">
                                            <source th:src="${secondMedia.filePath}" th:type="${secondMedia.mimeType}"/>
                                        </video>
                                        <div class="absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center">
                                            <span class="text-white text-xl font-bold" 
                                                  th:text="'+' + ${#lists.size(post.mediaFiles) - 2} + ' more'">+X more</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action buttons -->
                <div class="flex items-center justify-between ">
                    <button class="text-gray-700 btn btn-ghost btn-sm hover:text-red-400 like-button">
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="20"  height="20"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-heart">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
                        </svg>
                        <span class="like-count">0</span>
                    </button>
                    <button class="text-gray-700 btn btn-ghost btn-sm comment-button">
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="20"  height="20"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-message">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M8 9h8" />
                            <path d="M8 13h6" />
                            <path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z" />
                        </svg>
                        Comment
                    </button>
                    <button class="text-gray-700 btn btn-ghost btn-sm">
                        <svg  xmlns="http://www.w3.org/2000/svg"  width="20"  height="20"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-share">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                            <path d="M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                            <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                            <path d="M8.7 10.7l6.6 -3.4" />
                            <path d="M8.7 13.3l6.6 3.4" />
                        </svg>
                        Share
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Post Confirmation Modal -->
    <div id="deletePostModal" class="fixed inset-0 z-50 hidden">
        <div class="fixed inset-0 bg-black bg-opacity-65 backdrop-blur-sm"></div>
        <div class="relative flex items-center justify-center min-h-screen p-4">
            <div class="w-full max-w-md bg-white rounded-lg shadow-xl">
                <div class="p-6">
                    <div class="flex items-start gap-3">
                        <div class="flex items-center justify-center flex-shrink-0 w-10 h-10 mt-1 bg-red-100 rounded-2xl">
                            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-base font-semibold text-black">Are you sure you want to delete this post?</h3>
                            <p class="mt-1 text-sm text-gray-600">This action cannot be undone.</p>
                            <div class="flex justify-end gap-2 mt-4">
                                <button onclick="closeDeletePostModal()" 
                                        class="px-4 py-2 text-sm font-medium text-gray-900 transition-transform duration-200 bg-gray-200 rounded-2xl hover:bg-gray-300 hover:scale-105">
                                    Cancel
                                </button>
                                <button onclick="confirmDeletePost()" 
                                        class="px-4 py-2 !bg-red-600 text-white text-sm font-medium rounded-2xl hover:!bg-red-700 transition-transform hover:scale-105 duration-200">
                                    Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Comment Modal -->
    <div id="commentModal" class="fixed inset-0 z-50 flex items-center justify-center hidden overflow-auto bg-black bg-opacity-70 backdrop-blur-sm">
        <div class="w-full max-w-lg mx-4 transition-all transform bg-white rounded-lg shadow-xl relative">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold text-black">Comments</h3>
                    <button id="closeCommentModal" class="text-gray-700 hover:text-black">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Original Post -->
                <div id="modalPostContent" class="pb-4 mb-4 border-b border-gray-300">
                    <div class="flex items-start gap-3">
                        <div class="avatar">
                            <div class="flex items-center justify-center w-10 h-10 rounded-full bg-brand-300">
                                <svg class="mt-2 ml-[10px] w-5 h-5 text-gray-700" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-2">
                                <h4 class="font-medium text-gray-900" id="modalPostAuthor">Author Name</h4>
                                <span class="text-sm text-gray-700" id="modalPostTime">timestamp</span>
                            </div>
                            <div class="mt-1 overflow-y-auto max-h-24 post-content-scroll">
                                <p class="text-gray-700 break-words whitespace-pre-wrap" id="modalPostText">Post content</p>
                            </div>
                            <!-- Modal Post Media Container -->
                            <div id="modalPostMedia" class="mt-3 hidden">
                                <!-- Media will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Comments List -->
                <div id="commentsList" class="mb-4 space-y-4 overflow-y-auto max-h-60 "></div>
                
                <!-- Add Comment Form -->
                <form id="commentForm" class="mt-4">
                    <input type="hidden" id="postIdInput">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <textarea id="commentContent" rows="2"
                              class="w-full px-3 py-2 text-gray-700 placeholder-gray-400 border border-gray-200 rounded-lg resize-none bg-gray-50 focus:ring-2 focus:border-none focus:ring-brand-400 focus:outline-none focus:border-transparent"
                              placeholder="Write a comment..."></textarea>
                    <div class="flex justify-end mt-2">
                        <button type="submit" class="btn btn-primary btn-sm !bg-brand-500 !border-brand-500 shadow-md shadow-brand-500 transition-transform hover:scale-105">Post Comment</button>
                    </div>
                </form>

                <!-- Delete Comment Confirmation Modal (Inside Comment Modal) -->
                <div id="deleteCommentModal" class="absolute inset-0 z-10 hidden bg-black bg-opacity-65 backdrop-blur-sm rounded-lg">
                    <div class="flex items-center justify-center w-full h-full p-4">
                        <div class="w-full max-w-sm bg-white rounded-lg shadow-xl">
                            <div class="p-6">
                                <div class="flex items-start gap-3">
                                    <div class="flex items-center justify-center flex-shrink-0 w-10 h-10 mt-1 bg-red-100 rounded-2xl">
                                        <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                                  d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <h3 class="text-base font-semibold text-black">Are you sure you want to delete this comment?</h3>
                                        <p class="mt-1 text-sm text-gray-600">This action cannot be undone.</p>
                                        <div class="flex justify-end gap-2 mt-4">
                                            <button onclick="closeDeleteCommentModal()" 
                                                    class="px-4 py-2 text-sm font-medium text-gray-900 transition-transform duration-200 bg-gray-200 rounded-2xl hover:bg-gray-300 hover:scale-105">
                                                Cancel
                                            </button>
                                            <button onclick="confirmDeleteComment()" 
                                                    class="px-4 py-2 !bg-red-600 text-white text-sm font-medium rounded-2xl hover:!bg-red-700 transition-transform hover:scale-105 duration-200">
                                                Delete
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
